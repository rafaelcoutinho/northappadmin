<section class="content-header" ng-include="'partials/breadcrumb.html'" ng-init="title = 'Etapa';
   bcs=[{title:'Home',url:'#/'},{title:'Etapas',url:'#/etapas'},{title:'Etapa',url:'#/etapa/',active:true}]"></section>
<section class="content">




    <div class="box box-info">
        <div class="box-header with-border">
            <h3 class="box-title">Etapa</h3>
        </div>
        <!-- /.box-header -->
        <!-- form start -->
        <form class="form-horizontal">
            <div class="box-body">
                <div class="form-group">
                    <label for="inputName" class="col-sm-2 control-label">Título</label>

                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputName" placeholder="Título" ng-model="etapa.titulo">
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputDesc" class="col-sm-2 control-label">Descrição</label>

                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputDesc" placeholder="Descrição" ng-model="etapa.descricao">
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputData" class="col-sm-2 control-label">Data</label>

                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputData" data-inputmask="'alias': 'dd/mm/yyyy'" data-mask ng-model="etapa.data">
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputLocal" class="col-sm-2 control-label">Local</label>

                    <div class="col-sm-10">
                        <span ng-show="etapa.id_Local==null" class="text-yellow">A definir</span> 
                        <span ng-show="etapa.id_Local!=null" class="text-green">{{location.nome}}</span> 
                        <button type="button" class="btn btn-primary btn-xs " data-toggle="modal" data-target="#pickLocal">
                            Selecionar local
                        </button>
                    </div>
                </div>

            </div>
            <!-- /.box-body -->
            <div class="box-footer">
                <button type="submit" class="btn btn-default" ng-click="cancel()">Voltar</button>
                <button type="submit" class="btn btn-info pull-right" ng-click="saveData()">Salvar</button>
            </div>
            <!-- /.box-footer -->
        </form>
    </div>


</section>
<div class="modal fade" id="pickLocal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Selecione a localidade</h4>
            </div>
            <div class="modal-body">
                <table class="table table-bordered">
                    <tbody>
                        <tr>
                            <th style="width: 10px">#</th>
                            <th>Nome</th>

                        </tr>
                        <tr ng-repeat="location in locations">
                            <td></td>
                            <td><a ng-click="associateLocal(location)">{{location.nome}}</a></td>
                        </tr>

                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                <button type="button" class="btn btn-warning" ng-click="removeLocal()">Setar como local indefinido</button>
            </div>
        </div>
    </div>
</div>